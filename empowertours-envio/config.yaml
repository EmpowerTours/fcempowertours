# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
name: empowertours-envio
description: EmpowerTours NFT Indexer for Monad - Music, Passports & Itineraries

networks:
  - id: 10143
    start_block: 43165000
    contracts:
      # âœ… UPDATED: New MusicLicenseNFT contract with royalty tracking
      - name: MusicLicenseNFT
        address:
          - "0xF4aa283e1372b0F96C9eA0E64Da496cA2c992bC2"
        handler: src/EventHandlers.ts
        events:
          - event: "MusicMinted(uint256 indexed tokenId, address indexed artist, string metadataURI, uint256 royaltyPercentage)"
          - event: "LicensePurchased(uint256 indexed tokenId, address indexed buyer, uint256 price)"
          - event: "RoyaltyPaid(uint256 indexed tokenId, address indexed recipient, uint256 amount)"
          - event: "Transfer(address indexed from, address indexed to, uint256 indexed tokenId)"

      - name: PassportNFT
        address:
          - "0x2c26632F67f5E516704C3b6bf95B2aBbD9FC2BB4"
        handler: src/EventHandlers.ts
        events:
          - event: "Transfer(address indexed from, address indexed to, uint256 indexed tokenId)"

      - name: Marketplace
        address:
          - "0x48a4B5b9F97682a4723eBFd0086C47C70B96478C"
        handler: src/EventHandlers.ts
        events:
          - event: "ItineraryCreated(uint256 indexed itineraryId, address indexed creator, string description, uint256 price)"
          - event: "ItineraryPurchased(uint256 indexed itineraryId, address indexed buyer)"

rollback_on_reorg: false
