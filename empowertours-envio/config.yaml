# yaml-language-server: $schema=./node_modules/envio/evm.schema.json
name: empowertours-envio
description: EmpowerTours NFT Indexer for Monad - Music, Passports & Itineraries
networks:
  - id: 10143
    start_block: 41800000  # Adjust this to the block where your new contracts were deployed
    contracts:
      - name: MusicLicenseNFT
        address:
          - "0x33c3Cae53e6E5a0D5a7f7257f2eFC4Ca9c3dFEAc"  # ✅ UPDATED
        handler: src/EventHandlers.ts
        events:
          - event: "MasterMinted(uint256 indexed tokenId, address indexed artist, string tokenURI, uint256 price)"
            field_selection:
              transaction_fields:
                - hash
          - event: "LicensePurchased(uint256 indexed tokenId, address indexed buyer, uint256 price)"
            field_selection:
              transaction_fields:
                - hash
          - event: "RoyaltyPaid(uint256 indexed tokenId, address indexed recipient, uint256 amount)"
            field_selection:
              transaction_fields:
                - hash
          - event: "Transfer(address indexed from, address indexed to, uint256 indexed tokenId)"
      - name: PassportNFT
        address:
          - "0x5B5aB516fcBC1fF0ac26E3BaD0B72f52E0600b08"  # ✅ UPDATED
        handler: src/EventHandlers.ts
        events:
          - event: "PassportMinted(uint256 indexed tokenId, address indexed owner, string countryCode, string countryName, string region, string continent)"
            field_selection:
              transaction_fields:
                - hash
          - event: "Transfer(address indexed from, address indexed to, uint256 indexed tokenId)"
            field_selection:
              transaction_fields:
                - hash
      - name: Marketplace
        address:
          - "0x48a4B5b9F97682a4723eBFd0086C47C70B96478C"
        handler: src/EventHandlers.ts
        events:
          - event: "ItineraryCreated(uint256 indexed itineraryId, address indexed creator, string description, uint256 price)"
          - event: "ItineraryPurchased(uint256 indexed itineraryId, address indexed buyer)"
            field_selection:
              transaction_fields:
                - hash
rollback_on_reorg: false
